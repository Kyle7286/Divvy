(this.webpackJsonpdivvy=this.webpackJsonpdivvy||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a.n(c),r=a(24),s=a.n(r),l=a(7),i=a(15),o=a(12),d=a(9),j=a(1);var m=function(e){return Object(j.jsx)("div",Object(d.a)({className:"row","data-component":"Row"},e))};var u=function(e){return Object(j.jsx)("div",Object(d.a)({className:"col-md","data-component":"Col"},e))},b=a(14),h=(a(66),function(e){var t=e.children;return Object(b.useMediaQuery)({maxWidth:1025})?t:null}),x=function(e){var t=e.children;return Object(b.useMediaQuery)({minWidth:1026})?t:null};var p=function(e){var t=e.loggedInStatus.loggedIn;function a(){return"Admin"===e.currentUser.role||e.currentUser.is_manager?Object(j.jsx)("li",{className:" nav-item my-2 text-center",children:Object(j.jsxs)(i.b,{to:"/org",className:"nav-link ps-2",children:[Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-diagram-3-fill",viewBox:"0 0 16 16",children:Object(j.jsx)("path",{fillRule:"evenodd",d:"M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 2 7h5.5V6A1.5 1.5 0 0 1 6 4.5v-1zm-6 8A1.5 1.5 0 0 1 1.5 10h1A1.5 1.5 0 0 1 4 11.5v1A1.5 1.5 0 0 1 2.5 14h-1A1.5 1.5 0 0 1 0 12.5v-1zm6 0A1.5 1.5 0 0 1 7.5 10h1a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 8.5 14h-1A1.5 1.5 0 0 1 6 12.5v-1zm6 0a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1z"})}),Object(j.jsx)("div",{children:"Organization"})]})}):void 0}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{children:Object(j.jsx)("nav",{className:"navbar bg-dark navbar-expand-lg navbar-dark","data-component":"Navbar",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{className:"navbar-toggler mr-3",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),Object(j.jsx)("a",{className:"navbar-brand mx-auto",href:"/",children:"Divvy"}),Object(j.jsx)("div",{className:"collapse navbar-collapse text-center justify-content-center",id:"navbarNav",children:Object(j.jsx)("ul",{className:"navbar-nav flex-row justify-content-center",children:t?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"nav-item px-0 my-2 text-center",href:"/dasboard",children:Object(j.jsxs)(i.b,{to:"/dashboard",className:"nav-link ps-2",children:[Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-speedometer",viewBox:"0 0 16 16",children:[Object(j.jsx)("path",{d:"M8 2a.5.5 0 0 1 .5.5V4a.5.5 0 0 1-1 0V2.5A.5.5 0 0 1 8 2zM3.732 3.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707zM2 8a.5.5 0 0 1 .5-.5h1.586a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8zm9.5 0a.5.5 0 0 1 .5-.5h1.5a.5.5 0 0 1 0 1H12a.5.5 0 0 1-.5-.5zm.754-4.246a.389.389 0 0 0-.527-.02L7.547 7.31A.91.91 0 1 0 8.85 8.569l3.434-4.297a.389.389 0 0 0-.029-.518z"}),Object(j.jsx)("path",{fillRule:"evenodd",d:"M6.664 15.889A8 8 0 1 1 9.336.11a8 8 0 0 1-2.672 15.78zm-4.665-4.283A11.945 11.945 0 0 1 8 10c2.186 0 4.236.585 6.001 1.606a7 7 0 1 0-12.002 0z"})]}),Object(j.jsx)("div",{children:"Dashboard"})]})}),a(),Object(j.jsx)("li",{className:" nav-item my-2 text-center mr-2",children:Object(j.jsxs)(i.b,{to:"/profile",className:"nav-link ps-2",children:[Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-person-circle",viewBox:"0 0 16 16",children:[Object(j.jsx)("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}),Object(j.jsx)("path",{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"})]}),Object(j.jsx)("div",{children:"Profile"})]})}),Object(j.jsx)("li",{className:" nav-item my-2 text-center mr-2",children:Object(j.jsxs)(i.b,{onClick:e.handleLogout,to:"/logout",className:"nav-link ps-2",children:[Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-box-arrow-right",viewBox:"0 0 16 16",children:[Object(j.jsx)("path",{fillRule:"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"}),Object(j.jsx)("path",{fillRule:"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})]}),Object(j.jsx)("div",{children:"Logout"})]})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"nav-item px-0 my-2 text-center mr-4",href:"/",children:Object(j.jsxs)(i.b,{to:"/",exact:!0,className:"nav-link ps-2",children:[Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-house-fill",viewBox:"0 0 16 16",children:[Object(j.jsx)("path",{fillRule:"evenodd",d:"m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"}),Object(j.jsx)("path",{fillRule:"evenodd",d:"M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"})]}),Object(j.jsx)("div",{children:"Home"})]})}),Object(j.jsx)("li",{className:" nav-item my-2 text-center mr-2",children:Object(j.jsxs)(i.b,{to:"/login",className:"nav-link ps-2",children:[Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-box-arrow-in-right",viewBox:"0 0 16 16",children:[Object(j.jsx)("path",{fillRule:"evenodd",d:"M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z"}),Object(j.jsx)("path",{fillRule:"evenodd",d:"M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})]}),Object(j.jsx)("div",{children:"Login"})]})})]})})})]})})}),Object(j.jsx)(x,{children:Object(j.jsxs)("nav",{className:"navbar flex-md-column bg-dark navbar-expand-lg navbar-dark pt-0 vh-100","data-component":"Navbar",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{className:"navbar-toggler mr-3",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),Object(j.jsx)("div",{className:"text-warning text-center fw-bold fst-italic fs-1 mt-2 divvy-font-logo",children:"Divvy"}),Object(j.jsx)("div",{className:"collapse navbar-collapse flex-column",id:"navbarNav",children:Object(j.jsx)("ul",{className:"navbar-nav flex-column",children:t?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"nav-item px-0 my-2 text-center",href:"/dasboard",children:Object(j.jsxs)(i.b,{to:"/dashboard",className:"nav-link ps-2",children:[Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-speedometer",viewBox:"0 0 16 16",children:[Object(j.jsx)("path",{d:"M8 2a.5.5 0 0 1 .5.5V4a.5.5 0 0 1-1 0V2.5A.5.5 0 0 1 8 2zM3.732 3.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707zM2 8a.5.5 0 0 1 .5-.5h1.586a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8zm9.5 0a.5.5 0 0 1 .5-.5h1.5a.5.5 0 0 1 0 1H12a.5.5 0 0 1-.5-.5zm.754-4.246a.389.389 0 0 0-.527-.02L7.547 7.31A.91.91 0 1 0 8.85 8.569l3.434-4.297a.389.389 0 0 0-.029-.518z"}),Object(j.jsx)("path",{fillRule:"evenodd",d:"M6.664 15.889A8 8 0 1 1 9.336.11a8 8 0 0 1-2.672 15.78zm-4.665-4.283A11.945 11.945 0 0 1 8 10c2.186 0 4.236.585 6.001 1.606a7 7 0 1 0-12.002 0z"})]}),Object(j.jsx)("div",{children:"Dashboard"})]})}),a(),Object(j.jsx)("li",{className:" nav-item my-2 text-center",children:Object(j.jsxs)(i.b,{to:"/profile",className:"nav-link ps-2",children:[Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-person-circle",viewBox:"0 0 16 16",children:[Object(j.jsx)("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}),Object(j.jsx)("path",{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"})]}),Object(j.jsx)("div",{children:"Profile"})]})}),Object(j.jsx)("li",{className:" nav-item my-2 text-center",children:Object(j.jsxs)(i.b,{onClick:e.handleLogout,to:"/logout",className:"nav-link ps-2",children:[Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-box-arrow-right",viewBox:"0 0 16 16",children:[Object(j.jsx)("path",{fillRule:"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"}),Object(j.jsx)("path",{fillRule:"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})]}),Object(j.jsx)("div",{children:"Logout"})]})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"nav-item px-0 my-2 text-center",href:"/",children:Object(j.jsxs)(i.b,{to:"/",exact:!0,className:"nav-link ps-2",children:[Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-house-fill",viewBox:"0 0 16 16",children:[Object(j.jsx)("path",{fillRule:"evenodd",d:"m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"}),Object(j.jsx)("path",{fillRule:"evenodd",d:"M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"})]}),Object(j.jsx)("div",{children:"Home"})]})}),Object(j.jsx)("li",{className:" nav-item my-2 text-center",children:Object(j.jsxs)(i.b,{to:"/login",className:"nav-link ps-2",children:[Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-box-arrow-in-right",viewBox:"0 0 16 16",children:[Object(j.jsx)("path",{fillRule:"evenodd",d:"M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z"}),Object(j.jsx)("path",{fillRule:"evenodd",d:"M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})]}),Object(j.jsx)("div",{children:"Login"})]})})]})})})]}),t?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{children:Object(j.jsxs)("p",{className:"logStatusInfo text-center text-white pb-2",children:["Hello,",Object(j.jsx)("br",{}),e.currentUser.first_name," ",e.currentUser.last_name]})})}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{})," "]})]})})]})};a(22);var O=function(e){return Object(j.jsx)("main",{className:"my-0 divvy-bg","data-component":"Wrapper",children:Object(j.jsxs)(m,{children:[Object(j.jsx)(u,{className:"col-lg-1 ",children:Object(j.jsx)(p,{loggedInStatus:e.loggedInStatus,currentUser:e.currentUser,handleLogout:e.handleLogout})}),Object(j.jsx)(u,{children:e.children})]})})},f=a(55),v=a(56),g=a(60),N=a(59);var y=function(e){return Object(j.jsx)("div",Object(d.a)({className:"container m-y0 p-0","data-component":"Container"},e))},w=a(25);var C=function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{class:"col-md-8 mx-auto mt-5",children:Object(j.jsxs)("div",{class:"card px-0 shadow",children:[Object(j.jsx)("h5",{class:"card-header bg-dark text-white text-center",children:"Current User Login"}),Object(j.jsxs)("div",{class:"card-body",children:[Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{class:"row mb-3",children:[Object(j.jsx)("label",{for:"inputEmail3",class:"col-sm-2 col-form-label",children:"Email"}),Object(j.jsx)("div",{class:"col-sm-10",children:Object(j.jsx)("input",Object(w.a)({id:"inputEmail",type:"email",class:"form-control",autoComplete:"email"},"id","email-login"))})]}),Object(j.jsxs)("div",{class:"row mb-3",children:[Object(j.jsx)("label",{for:"inputPassword3",class:"col-sm-2 col-form-label",children:"Password"}),Object(j.jsx)("div",{class:"col-sm-10",children:Object(j.jsx)("input",Object(w.a)({id:"inputPassword",type:"password",class:"form-control",autoComplete:"current-password"},"id","password-login"))})]}),Object(j.jsx)("div",{class:"text-center",children:Object(j.jsx)("button",{id:"log-in-button",type:"submit",onClick:e.handleFormSubmit,class:"btn btn-warning",children:"Login"})})]}),Object(j.jsx)("div",{className:"text-center mt-2",children:Object(j.jsx)("p",{style:{color:"rgb(255, 193, 7)"},id:"message"})})]})]})})})},k=a(11),F=a.n(k),I=function(){return F.a.get("/api/ticket")},S=function(e){return F.a.post("/api/ticket",e)},_=function(e,t){return F.a.put("/api/ticket/"+e,t)},R=function(e){return F.a.delete("api/ticket/"+e)},T=function(e){return F.a.post("/api/comment/",e)},A=function(){return F.a.get("/api/user")},D=function(e){return F.a.post("/api/user",e)},E=function(){return F.a.get("/api/user/current")},P=function(e,t){return F.a.put("/api/user/"+e,t)},L=function(e){return console.log(e),F.a.post("/api/user/newemp",e)},M=function(){return F.a.get("/api/client")},z=function(e){return F.a.post("/api/client",e)},U=function(e){return F.a.post("/api/team",e)},H=function(){return F.a.get("/api/team")},B=function(){return F.a.get("/api/auth/authcheck")},V=function(e){var t=e.email,a=e.password;return F.a.post("/api/auth/login",{email:t,password:a})},G=function(){return F.a.post("/api/auth/logout")},q=function(e){return F.a.post("/api/org",e)},W=function(){return F.a.get("/api/org/current")},Y=function(){return F.a.get("/api/reward")},J=function(){return F.a.get("/api/reward/points")},Z=function(e){return F.a.post("/api/email",e)},Q=function(e){Object(g.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(f.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).handleFormSubmit=function(e){e.preventDefault();var t=document.querySelector("#email-login").value.trim(),a=document.querySelector("#password-login").value.trim();t&&a&&V({email:t,password:a}).then((function(e){window.location="/dashboard"})).catch((function(e){console.log(e),document.getElementById("message").innerHTML=e.response.data.message}))},e}return Object(v.a)(a,[{key:"render",value:function(){return Object(j.jsx)("div",{children:Object(j.jsx)(y,{children:Object(j.jsx)(m,{className:"mb-4 d-flex flex-row justify-content-center",children:Object(j.jsx)(u,{children:Object(j.jsx)(C,{handleFormSubmit:this.handleFormSubmit})})})})})}}]),a}(c.Component),K=a(129),X=a(57),$=a(130);var ee=function(e){return Object(j.jsx)("div",{className:"text-center text-warning fw-normal fs-3 divvy-bg-tile p-3 mb-2","data-component":"SectionHeader",children:e.children})};var te=function(){var e=n.a.createRef(),t=n.a.createRef(),a=n.a.createRef(),c=n.a.createRef(),r=n.a.createRef(),s=n.a.createRef();return Object(j.jsx)(m,{children:Object(j.jsxs)(K.a,{className:"text-center",children:[Object(j.jsx)(K.a.Group,{controlId:"formOrgName",children:Object(j.jsx)(K.a.Row,{children:Object(j.jsxs)(X.a,{xs:6,children:[Object(j.jsx)(ee,{children:"Signup"}),Object(j.jsx)(K.a.Control,{ref:a,placeholder:"Organization name"})]})})}),Object(j.jsx)(K.a.Group,{controlId:"formBasicName",children:Object(j.jsxs)(K.a.Row,{children:[Object(j.jsx)(X.a,{xs:3,children:Object(j.jsx)(K.a.Control,{ref:e,placeholder:"First name"})}),Object(j.jsx)(X.a,{xs:3,children:Object(j.jsx)(K.a.Control,{ref:t,placeholder:"Last name"})})]})}),Object(j.jsx)(K.a.Group,{controlId:"formBasicPhone",children:Object(j.jsx)(K.a.Row,{children:Object(j.jsx)(X.a,{xs:6,children:Object(j.jsx)(K.a.Control,{ref:c,placeholder:"Phone Number"})})})}),Object(j.jsx)(K.a.Group,{controlId:"formBasicEmail",children:Object(j.jsx)(K.a.Row,{children:Object(j.jsx)(X.a,{xs:6,children:Object(j.jsx)(K.a.Control,{ref:r,type:"email",placeholder:"Enter email",autoComplete:"username"})})})}),Object(j.jsx)(K.a.Group,{controlId:"formBasicPassword",children:Object(j.jsx)(K.a.Row,{children:Object(j.jsx)(X.a,{xs:6,children:Object(j.jsx)(K.a.Control,{ref:s,type:"password",placeholder:"Password",autoComplete:"current-password"})})})}),Object(j.jsx)(K.a.Group,{controlId:"formBasicSubmit",children:Object(j.jsx)(K.a.Row,{children:Object(j.jsx)(X.a,{xs:6,children:Object(j.jsx)("center",{children:Object(j.jsx)($.a,{variant:"primary",type:"submit",className:"text-center",block:!0,onClick:function(n){n.preventDefault(),function(){var n={name:a.current.value};null!=n.name?q(n).then((function(a){console.log("axio post response",a.data.id),function(a){var n={org_id:a,first_name:e.current.value,last_name:t.current.value,phone_number:c.current.value,email:r.current.value,password:s.current.value,is_manager:!0,role:"Admin",profile_icon:""};null!=n.first_name||null!=n.last_name||null!=n.phone_number||null!=n.email||null!=n.password?D(n).then((function(e){return console.log("axio post response",e.data)})).then((function(e){V({email:r.current.value,password:s.current.value}).then((function(e){return console.log("axio login post response",e.data)})).then((function(e){!function(e){Z(e).then((function(e){return console.log("axio email post response",e.data)})).then((function(e){return window.location="/org"})).catch((function(e){return console.log(e)}))}({to:r.current.value,subject:"Welcome to DIVVY",message:"You have just signed up - Welcome!"})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)})):alert("Please make sure you have entered all the required fields!")}(a.data.id)})).catch((function(e){return console.log(e)})):alert("Please make sure you have entered your organization name!")}()},children:"Submit"})})})})})]})})};var ae=function(){return Object(j.jsx)("div",{children:Object(j.jsx)(y,{children:Object(j.jsx)(m,{children:Object(j.jsx)(u,{className:"mx-auto",children:Object(j.jsx)(te,{})})})})})};a(92);var ce=function(e){var t=Object(o.f)();return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"card col-lg-6 mx-auto px-0 shadow-lg mt-5",children:[Object(j.jsx)("div",{className:"card-header bg-dark text-white px-3 text-center fw-bold fs-3",children:"Welcome to Divvy!"}),Object(j.jsxs)("div",{className:"text-center",children:[Object(j.jsx)("div",{className:"my-3",children:Object(j.jsx)("button",{className:"btn btn btn-outline-warning",variant:"primary",onClick:function(){t.push("/login")},children:"Login"})}),Object(j.jsx)("div",{className:"my-3",children:Object(j.jsx)("a",{className:"forgotPasswordLink divvy-link fs-5",href:"/#",children:"Forgot password"})}),Object(j.jsx)("div",{className:"my-3",children:Object(j.jsx)("a",{className:"signupLink divvy-link fs-5",href:"/signup",children:"Sign-Up"})})]})]})})};var ne=function(){return Object(j.jsx)(y,{children:Object(j.jsx)(m,{children:Object(j.jsx)(u,{className:"col-lg-12 align-items-center",children:Object(j.jsx)(ce,{})})})})};var re=function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(y,{className:"m-3 p-3",children:Object(j.jsxs)("form",{children:[Object(j.jsx)(m,{children:Object(j.jsxs)(u,{className:"mx-auto",children:[Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"InputFirstName",className:"form-label fw-bold",children:"First Name"}),Object(j.jsx)("input",{ref:e.latestFirstName,defaultValue:e.singleuser.first_name,type:"text",className:"form-control",id:"InputFirstName","aria-describedby":"firstName"})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"InputLastName",className:"form-label fw-bold",children:"Last Name"}),Object(j.jsx)("input",{ref:e.latestLastName,defaultValue:e.singleuser.last_name,type:"text",className:"form-control",id:"InputLastName","aria-describedby":"lastName"})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"InputEmail",className:"form-label fw-bold",children:"Email"}),Object(j.jsx)("input",{ref:e.latestEmail,defaultValue:e.singleuser.email,type:"text",className:"form-control",id:"InputEmail","aria-describedby":"email"})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"InputPhone",className:"form-label fw-bold",children:"Phone"}),Object(j.jsx)("input",{ref:e.latestPhone,defaultValue:e.singleuser.phone_number,type:"text",className:"form-control",id:"InputPhone","aria-describedby":"email"})]}),Object(j.jsx)("fieldset",{disabled:!0,children:Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"disabledSelect",className:"form-label fw-bold",children:"Role"}),Object(j.jsx)("input",{defaultValue:e.singleuser.role,type:"text",className:"form-control",id:"disabledSelect","aria-describedby":"firstName"}),Object(j.jsx)("div",{class:"form-text text-center",children:"Roles are only configurable by team managers"})]})})]})}),e.error.visible?Object(j.jsx)("div",{className:"mb-2 text-center text-danger",children:e.error.type}):Object(j.jsx)("div",{className:"mb-2 text-center"}),Object(j.jsxs)(m,{className:"mt-2",children:[Object(j.jsx)(u,{}),Object(j.jsx)(u,{className:"text-center",children:Object(j.jsx)("button",{onClick:e.handleFormSubmit,type:"submit",className:"btn btn-warning",children:"Update"})}),Object(j.jsx)(u,{})]})]})})})};var se=function(e){console.log("====== PROPS =========="),console.log(e),console.log(e.points.points);var t={height:"100%",width:"".concat(a(),"%"),backgroundColor:"#6a1b9a",borderRadius:"inherit",textAlign:"right"};function a(){for(var t=0;t<e.rewards.length;t++)if(e.rewards[t].req_points>e.points.points)return Math.floor(e.points.points/e.rewards[t].req_points*100)}return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"",style:{height:30,width:"100%",backgroundColor:"#e0e0de",borderRadius:50},children:Object(j.jsx)("div",{style:t,children:Object(j.jsx)("span",{style:{padding:5,color:"white",fontWeight:"bold"},children:"".concat(a(),"%")})})})})})},le=a(30);var ie=function(e){return console.log(e),Object(j.jsx)(y,{children:Object(j.jsx)(m,{className:"row justify-content-center",children:e.rewards.map((function(t,a){return console.log("".concat(a+1," | ").concat(e.rewards.length)),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u,{className:"col-1 text-center p-0 m-0",children:e.points.points<t.req_points?Object(j.jsx)(le.b,{className:"m-2",style:{color:"#FEDE7D",fontSize:"35px"}}):Object(j.jsx)(le.a,{className:"m-2",style:{color:"#FEDE7D",fontSize:"35px"}})}),a+1<e.rewards.length?Object(j.jsx)(u,{className:"col-1 text-center p-0 m-0",children:Object(j.jsx)(le.c,{className:"m-3",style:{color:"#FEDE7D",fontSize:"20px"}})}):Object(j.jsx)(j.Fragment,{})]})}))})})},oe=(a(93),a(37));var de=function(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)({}),i=Object(l.a)(s,2),o=i[0],d=i[1],b=Object(c.useState)({}),h=Object(l.a)(b,2),x=h[0],p=h[1],O=Object(c.useState)([{}]),f=Object(l.a)(O,2),v=f[0],g=f[1],N=Object(c.useState)({ticketData:[{}]}),C=Object(l.a)(N,2),k=C[0],F=C[1];function I(){E().then((function(e){return r(e.data)})).catch((function(e){return console.log(e)}))}function S(e,t){"unique violation"===t&&(t="Email already in use! Please enter a different email."),d({visible:e,type:t})}function _(e){p({visible:e})}Object(c.useEffect)((function(){I(),S(!1,null),_(!1),Y().then((function(e){g(e.data)})).catch((function(e){return console.log(e)})),J().then((function(e){return F(e.data)})).catch((function(e){return console.log(e)}))}),[]);var R=n.a.createRef(),T=n.a.createRef(),A=n.a.createRef(),D=n.a.createRef();function L(e){P(a.id,e).then((function(e){return console.log("axios put response",e)})).then((function(){I(),S(!1,null)})).catch((function(e){S(!0,JSON.parse(e.response.request.response).errors[0].type)}))}var M=n.a.createRef();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(y,{className:"mt-4 mb-4 mx-4",children:Object(j.jsx)(m,{children:Object(j.jsxs)(u,{className:"col-lg-6 divvy-bg-tile shadow mx-auto p-0",children:[Object(j.jsx)(ee,{children:"My Info"}),Object(j.jsx)(m,{children:Object(j.jsxs)(u,{children:[Object(j.jsxs)(m,{children:[Object(j.jsx)(u,{className:"col-lg-5",children:Object(j.jsxs)("div",{onClick:function(e){e.preventDefault(),console.log("clicked"),p({visible:!0})},className:"profile-img my-3 text-center",children:[Object(j.jsx)("img",{src:a.profile_icon?a.profile_icon:"https://www.pngitem.com/pimgs/m/30-307416_profile-icon-png-image-free-download-searchpng-employee.png",width:"200px",alt:"profile picture",className:" border border-warning shadow-lg rounded-pill"}),Object(j.jsx)(oe.a,{className:"icon-button"})]})}),Object(j.jsxs)(u,{className:"col-lg-6 my-auto",children:[Object(j.jsx)(m,{className:"my-3",children:Object(j.jsx)(u,{className:"my-auto",children:Object(j.jsx)("div",{style:{fontSize:"smaller"},children:"Holding for Brandon Metrics Container"})})}),Object(j.jsx)(m,{className:"my-3",children:Object(j.jsxs)(u,{className:"my-auto",children:[Object(j.jsx)("span",{children:"Reward Progress"}),Object(j.jsx)(se,{points:k,rewards:v})]})}),Object(j.jsx)(m,{className:"my-3",children:Object(j.jsx)(u,{className:"my-auto",children:Object(j.jsx)(ie,{rewards:v,points:k})})})]})]}),Object(j.jsx)(m,{children:Object(j.jsx)(u,{children:Object(j.jsx)("form",{className:x.visible?"text-center":"text-center d-block d-none",children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"my-1",children:[Object(j.jsx)("label",{htmlFor:"InputURL",className:"form-label mt-5 d-block",children:"Enter Profile Image URL"}),Object(j.jsx)("input",{ref:M,id:"InputURL",defaultValue:a.profile_icon,className:"col-lg-5"})]}),Object(j.jsx)("div",{className:"my-2",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(e){e.preventDefault(),console.log(M.current.value),L({profile_icon:M.current.value}),_(!1)},className:"btn btn-sm btn-outline-success mx-1",children:"Update"}),Object(j.jsx)("div",{onClick:function(e){e.preventDefault(),_(!1)},className:"btn btn-sm btn-outline-secondary mx-1",children:"Cancel"})]})})]})})})})]})}),Object(j.jsx)(m,{children:Object(j.jsx)(u,{children:Object(j.jsx)(re,{singleuser:a,handleFormSubmit:function(e){o.visible||e.preventDefault(),L(Object(w.a)({first_name:R.current.value,last_name:T.current.value,email:A.current.value,phone_number:D.current.value},"last_name",T.current.value))},latestFirstName:R,latestLastName:T,latestEmail:A,latestPhone:D,error:o})})})]})})})})},je=a(19),me=a(128);a(97);var ue=function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:e.divClassName,children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:e.nameClassName,children:e.user})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col",children:e.comment})}),Object(j.jsx)("div",{className:"row text-right",children:Object(j.jsx)("div",{className:" col fst-italic mt-2 mr-1 align-self-end",children:e.date})})]})})},be=(a(98),a(38));var he=function(e){var t=e.comments,a=e.currentUser.id;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"card comments-section overflow-auto",children:Object(j.jsxs)("div",{className:"card-body",children:[e.children,t.map((function(e){return Object(j.jsx)(ue,{user:"".concat(e.user.first_name," ").concat(e.user.last_name),comment:e.comment,date:(t=e.date_created,be(t).format("MMMM-DD-YYYY")),divClassName:e.user_id===a?"bg-light p-2 my-1 container":"bg-light p-2 my-1 ml-2 container",nameClassName:e.user_id===a?"fw-bold text-warning col":"fw-bold text-secondary col"},e.id);var t}))]})})})},xe=a(38),pe=a.n(xe);var Oe=function(e){var t=e.allUsers.filter((function(e){return"Client"!=e.role})),a=e.currentUser,r=Object(c.useState)(!1),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(c.useState)(!0),m=Object(l.a)(d,2),u=m[0],b=m[1],h=Object(c.useState)(!1),x=Object(l.a)(h,2),p=x[0],O=x[1],f=Object(c.useState)(!1),v=Object(l.a)(f,2),g=v[0],N=v[1],y=Object(c.useState)(!1),w=Object(l.a)(y,2),C=w[0],k=w[1],F=Object(c.useState)([]),I=Object(l.a)(F,2),S=I[0],A=I[1],D=Object(c.useState)(0),E=Object(l.a)(D,2),P=E[0],L=E[1];function M(){o(!1)}var z=n.a.createRef(),U=n.a.createRef(),H=n.a.createRef(),B=n.a.createRef(),V=n.a.createRef(),G=[],q="".concat(e.currentUser.first_name," ").concat(e.currentUser.last_name);function W(e){e.preventDefault(),k(!1),V.current.value=""}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{className:"btn btn-sm btn-outline-warning",variant:"primary",onClick:function(){o(!0)},children:"Manage"}),Object(j.jsxs)(me.a,{show:i,onHide:M,children:[Object(j.jsx)(me.a.Header,{closeButton:!0,children:Object(j.jsxs)(me.a.Title,{children:[e.ticketID," - ",e.ticketTitle]})}),Object(j.jsxs)(me.a.Body,{children:[Object(j.jsxs)("div",{className:"row mb-3 justify-content-center",children:[Object(j.jsx)("div",{className:"col text-center",children:Object(j.jsx)("button",{className:u?"btn alert-warning btn-sm text-center":"btn btn-light btn-sm text-center",onClick:function(){b(!0),O(!1),N(!1)},children:"Ticket Details"})}),Object(j.jsx)("div",{className:"col text-center",children:Object(j.jsx)("button",{className:p?"btn alert-warning btn-sm text-center":"btn btn-light btn-sm text-center",onClick:function(){b(!1),O(!0),N(!1)},children:"Client Details"})}),Object(j.jsx)("div",{className:"col text-center",children:Object(j.jsxs)("button",{className:g?"btn alert-warning btn-sm text-center":"btn btn-light btn-sm text-center",onClick:function(){b(!1),O(!1),N(!0)},children:["Comments ",void 0!=e.ticketComments?"(".concat(e.ticketComments.length+P,")"):""]})})]}),Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:u?"":"d-none",children:[Object(j.jsx)("h5",{className:"text-center",children:"Manage"}),Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("span",{className:"input-group-text col-3",children:"Priority"}),Object(j.jsxs)("select",{ref:z,className:"form-select",defaultValue:e.ticketPriority,"aria-label":"Default select example",children:[Object(j.jsx)("option",{value:"1",children:"1"}),Object(j.jsx)("option",{value:"2",children:"2"}),Object(j.jsx)("option",{value:"3",children:"3"}),Object(j.jsx)("option",{value:"4",children:"4"})]})]}),Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("span",{className:"input-group-text col-3",children:"Status"}),Object(j.jsxs)("select",{ref:U,className:"form-select",defaultValue:e.ticketStatus,disabled:"Client"==a.role,"aria-label":"Default select example",children:[Object(j.jsx)("option",{value:"Open",children:"Open"}),Object(j.jsx)("option",{value:"Assigned",children:"Assigned"}),Object(j.jsx)("option",{value:"In Progress",children:"In Progress"}),Object(j.jsx)("option",{value:"Completed",children:"Completed"})]})]}),Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("span",{className:"input-group-text col-3",children:"Assignee"}),Object(j.jsxs)("select",{ref:H,"data-user-id":e.ticketAssignee.id,className:"form-select",defaultValue:e.ticketAssignee,disabled:"Client"==a.role,"aria-label":"Default select example",children:[Object(j.jsx)("option",{value:""}),t.map((function(e){return Object(j.jsx)("option",{value:"".concat(e.first_name," ").concat(e.last_name),"data-user-id":e.id,children:"".concat(e.first_name," ").concat(e.last_name)},e.id)}))]})]}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("span",{className:"input-group-text col-3",children:"Description"}),Object(j.jsx)("textarea",{ref:B,className:"form-control",defaultValue:e.ticketDescription,placeholder:"Enter Description...","aria-label":"With textarea"})]})]}),Object(j.jsxs)("div",{className:p?"":"d-none",children:[Object(j.jsx)("h5",{className:"text-center mt-3",children:"Client Details"}),Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("span",{className:"input-group-text col-3",children:"Firm Name"}),Object(j.jsx)("input",{readOnly:!0,value:e.ticketFirm,type:"text",className:"form-control",placeholder:"Firm","aria-label":"Priority","aria-describedby":"priorityinput"})]}),Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("span",{className:"input-group-text col-3",children:"Firm Contact"}),Object(j.jsx)("input",{readOnly:!0,value:e.ticketFirmContact,type:"text",className:"form-control",placeholder:"Firm Contact","aria-label":"Priority","aria-describedby":"priorityinput"})]}),Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("span",{className:"input-group-text col-3",children:"Firm Phone"}),Object(j.jsx)("input",{readOnly:!0,value:e.ticketFirmPhone,type:"text",className:"form-control",placeholder:"Firm Contact","aria-label":"Priority","aria-describedby":"priorityinput"})]})]}),Object(j.jsxs)("div",{className:g?"":"d-none",children:[Object(j.jsx)("h5",{className:"text-center mt-3",children:"Comments"}),Object(j.jsxs)(he,{comments:e.ticketComments,currentUser:e.currentUser,children:[Object(j.jsxs)("div",{className:C?"mb-2":"d-none",children:[Object(j.jsx)("div",{className:"form-group mb-1",children:Object(j.jsx)("textarea",{ref:V,className:"form-control",id:"exampleFormControlTextarea1",rows:"3"})}),Object(j.jsxs)("div",{className:"text-right mb-2",children:[Object(j.jsx)("button",{className:"btn btn-outline-warning btn-sm py-0 mx-1",onClick:function(t){console.log("postNewComment called"),t.preventDefault();var a={ticket_id:e.ticketID,user_id:e.currentUser.id,comment:V.current.value,date_modified:null};console.log("new comment object",a),G=Object(j.jsxs)("div",{className:"bg-light p-1 my-1 container","data-tester":"recentComment",children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"fw-bold text-warning col",children:q})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col",children:V.current.value})}),Object(j.jsx)("div",{className:"row text-right",children:Object(j.jsx)("div",{className:" col fst-italic mt-2 mr-1 align-self-end",children:pe()().format("MMMM-DD-YYYY")})})]}),A([G].concat(S)),L(P+1),T(a).then((function(e){return console.log("axio put response",e)})).catch((function(e){return console.log(e)})),W(t)},children:"Post"}),Object(j.jsx)("button",{className:"btn btn-outline-secondary btn-sm py-0 mx-1",onClick:W,children:"Cancel"})]})]}),S," ",console.log("recentComments state in the modal return is",S)]})]})]})]}),Object(j.jsxs)(me.a.Footer,{className:"container-fluid",children:[Object(j.jsxs)("div",{className:u?"":"d-none",children:[Object(j.jsx)($.a,{className:"btn-secondary mx-2",onClick:function(){var t=prompt('Deleting this ticket will permentenly remove all of its data. If you with to delete, please type "DELETE" below to confirm');"DELETE"===t&&R(e.ticketID).then(M).then(window.location.reload()).catch((function(e){return console.log(e)}))},children:"Delete"}),Object(j.jsx)($.a,{className:"btn-warning mx-2",onClick:function(){var t={priority:z.current.value,status:U.current.value,assigned_to:H.current[H.current.selectedIndex].getAttribute("data-user-id"),description:B.current.value};_(e.ticketID,t).then((function(e){return console.log("axio put response",e)})).then(M).then(window.location.reload()).catch((function(e){return console.log(e)}))},children:"Update"})]}),Object(j.jsx)("div",{className:g?"":"d-none",children:Object(j.jsx)("button",{className:"btn btn-warning",onClick:function(){k(!0),console.log(C)},children:"+ Comment"})})]})]})]})};var fe=function(e){var t=e.currentUser;console.log("CURRENT USER ON CREATE MODAL",t);var a=e.allUsers.filter((function(e){return"Client"!=e.role})),r=e.allClients.map((function(e){return{name:e.name,id:e.id}})),s=Object(c.useState)(!1),i=Object(l.a)(s,2),o=i[0],d=i[1];function m(){d(!1)}var u=n.a.createRef(),b=n.a.createRef(),h=n.a.createRef(),x=n.a.createRef(),p=n.a.createRef(),O=n.a.createRef();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{className:"btn btn-sm btn-warning",variant:"primary",onClick:function(){d(!0)},children:"+ Ticket"}),Object(j.jsxs)(me.a,{show:o,onHide:m,children:[Object(j.jsx)(me.a.Header,{closeButton:!0,children:Object(j.jsx)(me.a.Title,{children:"New Ticket Info"})}),Object(j.jsx)(me.a.Body,{children:Object(j.jsxs)("form",{children:[Object(j.jsx)("h5",{className:"text-center",children:"Ticket Details"}),Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("span",{className:"input-group-text col-3",children:"Ticket Title"}),Object(j.jsx)("input",{type:"text",ref:u,className:"form-control",placeholder:"Enter Ticket Title...","aria-label":"Title","aria-describedby":"titleinput"})]}),Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("span",{className:"input-group-text col-3",children:"Description"}),Object(j.jsx)("textarea",{ref:p,className:"form-control",placeholder:"Enter Description...","aria-label":"With textarea"})]}),Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("span",{className:"input-group-text col-3",children:"Priority"}),Object(j.jsxs)("select",{ref:b,className:"form-select","aria-label":"Default select example",children:[Object(j.jsx)("option",{value:"1",children:"1"}),Object(j.jsx)("option",{value:"2",children:"2"}),Object(j.jsx)("option",{value:"3",children:"3"}),Object(j.jsx)("option",{value:"4",children:"4"})]})]}),"Client"!=t.role?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("span",{className:"input-group-text col-3",children:"Assignee"}),Object(j.jsxs)("select",{ref:x,className:"form-select","aria-label":"Default select example",children:[Object(j.jsx)("option",{value:""}),a.map((function(e){return Object(j.jsx)("option",{value:"".concat(e.first_name," ").concat(e.last_name),"data-user-id":e.id,children:"".concat(e.first_name," ").concat(e.last_name)},e.id)}))]})]}),Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("span",{className:"input-group-text col-3",children:"Client"}),Object(j.jsxs)("select",{ref:O,className:"form-select","aria-label":"Default select example",children:[Object(j.jsx)("option",{value:""}),r.map((function(e){return Object(j.jsx)("option",{value:e.name,"data-client-id":e.id,children:e.name},e.id)}))]})]}),Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("span",{className:"input-group-text col-3",children:"Status"}),Object(j.jsxs)("select",{ref:h,className:"form-select","aria-label":"Default select example",children:[Object(j.jsx)("option",{value:"Open",children:"Open"}),Object(j.jsx)("option",{value:"Assigned",children:"Assigned"}),Object(j.jsx)("option",{value:"In Progress",children:"In Progress"}),Object(j.jsx)("option",{value:"Completed",children:"Completed"})]})]})]}):void 0]})}),Object(j.jsx)(me.a.Footer,{children:Object(j.jsx)($.a,{className:"text-center btn-warning",onClick:function(){var e;null!=(e="Client"!=t.role?{title:u.current.value,priority:b.current.value,status:h.current.value,assigned_to:x.current[x.current.selectedIndex].getAttribute("data-user-id"),description:p.current.value,client_id:O.current[O.current.selectedIndex].getAttribute("data-client-id"),team_id:t.team_id,points:"10"}:{title:u.current.value,priority:b.current.value,status:"Open",assigned_to:null,description:p.current.value,client_id:t.org_id,team_id:"1",points:"10"}).client_id?S(e).then((function(e){return console.log("axio post response",e)})).then(m).then(window.location.reload()).catch((function(e){return console.log(e)})):alert("Please make sure you have selected a client for this new ticket!")},children:"Create Ticket"})})]})]})};a(99);function ve(e){var t=e.globalFilter,a=e.setGlobalFilter,c=n.a.useState(t),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(je.useAsyncDebounce)((function(e){a(e||void 0)}),200);return Object(j.jsxs)("form",{children:[Object(j.jsx)("div",{id:"searchHelp",className:"form-text text-center",children:"Type to search, or select a column header to sort"}),Object(j.jsxs)("div",{className:" mt-2 mb-1 col-5 mx-auto",children:[Object(j.jsx)("label",{className:"visually-hidden",children:"Search"}),Object(j.jsxs)("div",{className:"input-group input-group-sm d-flex justify-content-center",children:[Object(j.jsx)("span",{className:"me-3 align-middle d-flex align-items-center text-primary",children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-search",viewBox:"0 0 16 16",children:Object(j.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})}),Object(j.jsx)("input",{className:"form-control",value:s||"",onChange:function(e){i(e.target.value),o(e.target.value)},placeholder:"Search"})]})]})]})}function ge(e){var t=e.columns,a=e.data,c=n.a.useMemo((function(){return{text:function(e,t,a){return e.filter((function(e){var c=e.values[t];return void 0===c||String(c).toLowerCase().startsWith(String(a).toLowerCase())}))}}}),[]),r=n.a.useMemo((function(){return{Filter:ve}}),[]),s=Object(je.useTable)({columns:t,data:a,defaultColumn:r,filterTypes:c},je.useFilters,je.useGlobalFilter,je.useSortBy),l=s.getTableProps,i=s.headerGroups,o=s.rows,m=s.prepareRow,u=s.state,b=s.preGlobalFilteredRows,h=s.setGlobalFilter;return Object(j.jsxs)("div",{className:"mx-3 my-2 p-2 divvy-bg-tile shadow",children:[Object(j.jsx)("div",{children:Object(j.jsx)(ve,{className:"d-inline",preGlobalFilteredRows:b,globalFilter:u.globalFilter,setGlobalFilter:h})}),Object(j.jsxs)("table",Object(d.a)(Object(d.a)({},l()),{},{className:"table table-hover align-middle shadow-sm mt-2 ",children:[Object(j.jsx)("thead",{children:i.map((function(e){return Object(j.jsx)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(j.jsxs)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(j.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""})]}))}))}))}))}),Object(j.jsx)("tbody",{children:o.map((function(e,t){return m(e),Object(j.jsx)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(j.jsx)("td",Object(d.a)(Object(d.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))})]}))]})}var Ne=function(e){var t=Object(j.jsx)(fe,{allUsers:e.allUsers,allClients:e.allClients,currentUser:e.currentUser}),a=e.allTickets.map((function(t){return{button:Object(j.jsx)(Oe,{currentUser:e.currentUser,allUsers:e.allUsers,ticketTitle:t.title,ticketPriority:t.priority,ticketStatus:t.status,ticketAssignee:t.ticketuser?"".concat(t.ticketuser.first_name," ").concat(t.ticketuser.last_name):"",ticketAssigneeId:t.ticketuser?t.ticketuser.id:"",ticketDescription:t.description,ticketID:t.id,ticketFirm:t.client.name,ticketFirmContact:t.client.contact[0]?"".concat(t.client.contact[0].first_name," ").concat(t.client.contact[0].last_name):"",ticketFirmPhone:t.client.contact[0]?t.client.contact[0].phone_number:"",ticketComments:t.comments}),id:t.id,title:t.title,firm:t.client.name,contact_name:t.client.contact[0]?"".concat(t.client.contact[0].first_name," ").concat(t.client.contact[0].last_name," "):"",contact_phone:t.client.contact[0]?t.client.contact[0].phone_number:"",priority:t.priority,status:t.status,assignee:t.ticketuser?"".concat(t.ticketuser.first_name," ").concat(t.ticketuser.last_name," "):""}})),c=n.a.useMemo((function(){return[{Header:t,accessor:"button",disableSortBy:!0},{Header:"ID",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Firm",accessor:"firm"},{Header:"Contact Name",accessor:"contact_name"},{Header:"Contact Phone",accessor:"contact_phone"},{Header:"Priority",accessor:"priority"},{Header:"Status",accessor:"status"},{Header:"Assignee",accessor:"assignee"}]})),r=n.a.useMemo((function(){return a}));return Object(j.jsxs)("div",{className:"divvy-bg-tile table-wrapper overflow-auto",children:[Object(j.jsx)(ee,{children:"Tickets"}),Object(j.jsx)(ge,{columns:c,data:r,defaultPageSize:20,style:{height:"400px"}})]})};function ye(e){var t=e.globalFilter,a=e.setGlobalFilter,c=n.a.useState(t),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(je.useAsyncDebounce)((function(e){a(e||void 0)}),200);return Object(j.jsx)("form",{children:Object(j.jsxs)("div",{className:"col mx-auto mt-2 mb-1",children:[Object(j.jsx)("label",{className:"visually-hidden",children:"Search"}),Object(j.jsxs)("div",{className:"input-group input-group-sm",children:[Object(j.jsx)("span",{className:"me-3 align-middle d-flex align-items-center text-primary",children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-search",viewBox:"0 0 16 16",children:Object(j.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})}),Object(j.jsx)("input",{className:"form-control",value:s||"",onChange:function(e){i(e.target.value),o(e.target.value)},placeholder:"Search"})]})]})})}function we(e){var t=e.columns,a=e.data,c=n.a.useMemo((function(){return{text:function(e,t,a){return e.filter((function(e){var c=e.values[t];return void 0===c||String(c).toLowerCase().startsWith(String(a).toLowerCase())}))}}}),[]),r=n.a.useMemo((function(){return{Filter:ye}}),[]),s=Object(je.useTable)({columns:t,data:a,defaultColumn:r,filterTypes:c},je.useFilters,je.useGlobalFilter,je.useSortBy),l=s.getTableProps,i=s.headerGroups,o=s.rows,m=s.prepareRow,u=s.state,b=s.preGlobalFilteredRows,h=s.setGlobalFilter;return Object(j.jsxs)("div",{className:"mx-4",children:[Object(j.jsx)("div",{children:Object(j.jsx)(ye,{preGlobalFilteredRows:b,globalFilter:u.globalFilter,setGlobalFilter:h})}),Object(j.jsxs)("table",Object(d.a)(Object(d.a)({},l()),{},{className:"table align-middle shadow-sm",children:[Object(j.jsx)("thead",{children:i.map((function(e){return Object(j.jsx)("tr",Object(d.a)(Object(d.a)({className:"table-info"},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(j.jsxs)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(j.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""})]}))}))}))}))}),Object(j.jsx)("tbody",{children:o.map((function(e,t){return m(e),Object(j.jsx)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(j.jsx)("td",Object(d.a)(Object(d.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))})]}))]})}var Ce=function(e){console.log("Props.allTickets as passed into Ticket Tables is...",e.allTickets);var t=e.allTickets.map((function(e){return{id:e.id,title:e.title}})),a=n.a.useMemo((function(){return[{Header:"ID",accessor:"id"},{Header:"Title",accessor:"title"}]}),[]),c=n.a.useMemo((function(){return t}));return Object(j.jsx)("div",{children:Object(j.jsx)(we,{columns:a,data:c})})};var ke=function(e){return Object(j.jsxs)("div",{tag:"a",onClick:e.handleClick,"data-vl":e.employeeID,"data-type":"ID",ID:e.employeeID,style:{cursor:"pointer"},className:"card employeecard clear_border col-3 m-1 text-center float-left px-0","data-component":"employeecard",children:[Object(j.jsx)("div",{className:"card-header","data-vl":e.employeeID,"data-type":"ID",children:Object(j.jsx)("div",{className:"card-text","data-vl":e.employeeID,"data-type":"ID",children:Object(j.jsx)("span",{className:e.className,"data-vl":e.employeeID,"data-type":"ID",children:e.employeeTickets})})}),Object(j.jsxs)("div",{className:"card-body p-1","data-vl":e.employeeID,"data-type":"ID",children:[Object(j.jsx)("div",{className:"my-3 text-center","data-vl":e.employeeID,"data-type":"ID",children:Object(j.jsx)("img",{src:e.profileIcon?e.profileIcon:"https://www.pngitem.com/pimgs/m/30-307416_profile-icon-png-image-free-download-searchpng-employee.png",width:"50px",alt:"profile picture",className:" border border-warning shadow-lg rounded-pill","data-vl":e.employeeID,"data-type":"ID"})}),Object(j.jsx)("p",{className:"card-text align-middle","data-vl":e.employeeID,"data-type":"ID",children:e.employeeName})]})]})};a(100);var Fe=function(e){var t;function a(e,t){var a=t/e;return console.log("weight of tikets is showing as",a),a<.15?"badge alert-success":a>.14&&a<.25?"badge alert-info":a>.24&&a<.5?"badge alert-warning":a>.49?"badge alert-danger":"badge alert-light"}return console.log("PROPS in EMPLOYEE CARD CONTAINER",e),(t=e.allUsers.filter((function(e){return"Client"!=e.role}))).length>1&&(t=t.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{ticketuser:e.ticketuser.filter((function(e){return"Completed"!=e.status}))})}))),0!=t.length&&t.sort((function(e,t){return e.ticketuser.length>t.ticketuser.length?1:-1})),Object(j.jsxs)("div",{className:"divvy-bg-tile fix-height overflow-auto",children:[Object(j.jsx)(ee,{children:"Available Employees"}),Object(j.jsx)("div",{className:"d-flex flex-wrap justify-content-center",children:t.map((function(t,c){return Object(j.jsx)(ke,{employeeName:"".concat(t.first_name," ").concat(t.last_name),employeeTickets:t.ticketuser?"Tickets (".concat(t.ticketuser.length,")"):"Tickets (0)",className:t.ticketuser?a(e.activeTicketCount,t.ticketuser.length):"badge alert-success",employeeID:t.id,profileIcon:t.profile_icon,handleClick:e.handleClick},t.id)}))})]})};var Ie=function(e){return Object(j.jsx)("div",{tag:"a",onClick:e.handleClick,"data-vl":e.title,id:e.title,"data-type":"Status",style:{cursor:"pointer"},className:" card col-2 mx-3 shadow mb-2 text-center float-left px-0 statCard","data-component":"employeecard",children:Object(j.jsxs)("div",{className:"card-body p-1","data-vl":e.title,"data-type":"Status",children:[Object(j.jsx)("h6",{className:"card-text fw-bold","data-vl":e.title,"data-type":"Status",children:e.title}),Object(j.jsx)("p",{className:"card-text","data-vl":e.title,"data-type":"Status",children:e.amount})]})})};var Se=function(e){var t=e.allTickets;return e.allTickets.length,t.filter((function(e){return"Open"==e.status})),t.filter((function(e){return null===e.assigned_to&&"Completed"!=e.status})),console.log("statCard: ",e),Object(j.jsx)("div",{className:"mb-3 divvy-bg-tile",children:Object(j.jsxs)("div",{className:"d-flex flex-wrap justify-content-center py-3","data-component":"StatCardContainer",children:["Client"!=e.currentUser.role?Object(j.jsx)(Ie,{title:"Assigned To Me",amount:e.assignedTicketCount,handleClick:e.handleClick}):void 0,Object(j.jsx)(Ie,{title:"Total Active",amount:e.activeTicketCount,handleClick:e.handleClick}),Object(j.jsx)(Ie,{title:"Open",amount:e.openTicketCount,handleClick:e.handleClick}),Object(j.jsx)(Ie,{title:"Unassigned",amount:e.unassignedTicketCount,handleClick:e.handleClick}),Object(j.jsx)(Ie,{title:"Completed",amount:e.completedTicketCount,handleClick:e.handleClick})]})})},_e=function(e){var t=e.children;return Object(b.useMediaQuery)({maxWidth:1025})?t:null},Re=function(e){var t=e.children;return Object(b.useMediaQuery)({minWidth:1026})?t:null};var Te=function(){var e=Object(c.useState)([{client:{contact:[]}}]),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)({}),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(c.useState)([{}]),b=Object(l.a)(d,2),h=b[0],x=b[1],p=Object(c.useState)([{}]),O=Object(l.a)(p,2),f=O[0],v=O[1],g=Object(c.useState)(),N=Object(l.a)(g,2),w=N[0],C=N[1],k=Object(c.useState)(),F=Object(l.a)(k,2),S=F[0],_=F[1],R=Object(c.useState)(),T=Object(l.a)(R,2),D=T[0],P=T[1],L=Object(c.useState)(),z=Object(l.a)(L,2),U=z[0],H=z[1],B=Object(c.useState)(),V=Object(l.a)(B,2),G=V[0],q=V[1],W=0,Y=0,J=0,Z=0,Q=0;function K(e,t){I().then((function(a){console.log("TICKETS",a.data),E().then((function(c){var r;"Client"===c.data.role?(console.log("client"),r=a.data.filter((function(e){return e.client_id===c.data.client_id}))):"Employee"===c.data.role&&c.data.is_manager?(console.log("employee & manager"),r=a.data.filter((function(e){return e.team_id===c.data.team_id}))):"Employee"!==c.data.role||c.data.is_manager?r=a.data:(console.log("employee & not manager"),r=a.data.filter((function(e){return e.team_id===c.data.team_id}))),console.log("filteredTickets: ",r);var s=r,l=s.filter((function(e){return e.assigned_to===c.data.id}));W=l.length,C(W);var i=s.filter((function(e){return"Completed"!=e.status}));Y=i.length,_(Y);var o=s.filter((function(e){return"Open"==e.status}));Z=o.length,P(Z);var d=s.filter((function(e){return null===e.assigned_to&&"Completed"!=e.status}));J=d.length,H(J);var j,m=s.filter((function(e){return"Completed"===e.status}));switch(Q=m.length,q(Q),e){case"Initial Load":j="Client"===c.data.role?r.filter((function(e){return"Completed"!=e.status})):r.filter((function(e){return e.assigned_to===c.data.id}));break;case"ID":j=r.filter((function(e){return e.assigned_to===t&&"Completed"!=e.status}));break;case"Status":j=r.filter((function(e){return e.status===t}));break;default:j=r.filter((function(e){return"Completed"!=e.status}))}"Initial Load"===e&&"Client"===c.data.role?document.getElementById("Total Active").style.borderColor="rgb(255,193,7)":"Initial Load"===e&&(document.getElementById("Assigned To Me").style.borderColor="rgb(255,193,7)"),n(j)}))})).catch((function(e){return console.log(e)}))}function X(e){for(var t=e.target.dataset.vl,a=e.target.dataset.type,c=document.querySelectorAll(".statCard"),n=0;n<c.length;n++)c[n].style.borderColor="";for(var r=document.querySelectorAll(".employeecard"),s=0;s<r.length;s++)r[s].style.borderColor="";switch(a){case"Status":switch(document.getElementById(t).style.borderColor="rgb(255,193,7)",t){case"Total Active":a="All";break;case"Open":break;case"Assigned To Me":a="ID",t=i.id;break;case"Unassigned":a="ID",t=null}K(a,t);break;case"ID":document.getElementById(t).style.borderColor="rgb(255,193,7)",K(a,t=parseInt(t))}}return Object(c.useEffect)((function(){K("Initial Load",null)}),[]),Object(c.useEffect)((function(){E().then((function(e){console.log("CURRENT USER",e.data),o(e.data)}))}),[]),Object(c.useEffect)((function(){A().then((function(e){var t;t=e.data,E().then((function(e){var a=t.filter((function(t){return t.team_id===e.data.team_id}));x(a)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}),[]),Object(c.useEffect)((function(){M().then((function(e){return v(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(j.jsxs)(y,{className:" mt-3 mx-3",children:[Object(j.jsxs)(m,{children:[Object(j.jsxs)(u,{className:"Client"!=i.role?"col-lg-8 mx-auto px-0":"col-lg-11 mx-auto px-0",children:[Object(j.jsx)(Se,{allTickets:a,assignedTicketCount:w,activeTicketCount:S,openTicketCount:D,unassignedTicketCount:U,completedTicketCount:G,handleClick:X,currentUser:i}),Object(j.jsx)(Re,{children:Object(j.jsx)(Ne,{allTickets:a,allUsers:h,allClients:f,currentUser:i})}),Object(j.jsx)(_e,{children:Object(j.jsx)(Ce,{allTickets:a,allUsers:h,allClients:f,currentUser:i})})]}),"Client"!=i.role?Object(j.jsx)(u,{className:"col-lg-4 align-items-center",children:Object(j.jsx)(Fe,{allUsers:h,activeTicketCount:S,handleClick:X})}):void 0]}),Object(j.jsx)(m,{children:Object(j.jsx)("div",{className:"text-danger text-center divvy-font-logo fs-3 p-3",children:"Let's Divvy"})})]})};var Ae=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h4",{className:"text-center my-3",children:"New Client Form"}),Object(j.jsxs)("form",{children:[Object(j.jsxs)(m,{children:[Object(j.jsxs)(u,{className:"col-lg-5 mx-auto",children:[Object(j.jsxs)("div",{className:"mb-3 text-center",children:[Object(j.jsx)("label",{htmlFor:"InputFirmName",className:"form-label",children:"Firm"}),Object(j.jsx)("input",{ref:e.refFirm,type:"text",className:"form-control",id:"InputFirmName","aria-describedby":"firmName"})]}),Object(j.jsxs)("div",{className:"mb-3 text-center",children:[Object(j.jsx)("label",{htmlFor:"InputClientFirstName",className:"form-label",children:"First Name"}),Object(j.jsx)("input",{ref:e.refFirstName,type:"text",className:"form-control",id:"InputClientFirstName","aria-describedby":"clientFirstName"})]}),Object(j.jsxs)("div",{className:"mb-3 text-center",children:[Object(j.jsx)("label",{htmlFor:"InputClientLastName",className:"form-label",children:"Last Name"}),Object(j.jsx)("input",{ref:e.refLastName,type:"text",className:"form-control",id:"InputClientLastName","aria-describedby":"clientLastName"})]}),Object(j.jsxs)("div",{className:"mb-3 text-center",children:[Object(j.jsx)("label",{htmlFor:"InputEmail",className:"form-label",children:"Email"}),Object(j.jsx)("input",{ref:e.refEmail,type:"text",className:"form-control",id:"InputEmail","aria-describedby":"email"})]}),Object(j.jsxs)("div",{className:"mb-3 text-center",children:[Object(j.jsx)("label",{htmlFor:"InputPhone",className:"form-label",children:"Phone"}),Object(j.jsx)("input",{ref:e.refPhone,type:"text",className:"form-control",id:"InputPhone","aria-describedby":"email"})]})]}),Object(j.jsxs)(u,{className:"col-lg-5 mx-auto",children:[Object(j.jsxs)("div",{className:"mb-3 text-center",children:[Object(j.jsx)("label",{htmlFor:"InputAdd1",className:"form-label",children:"Address 1"}),Object(j.jsx)("input",{ref:e.refAdd1,type:"text",className:"form-control",id:"InputAdd1","aria-describedby":"add1"})]}),Object(j.jsxs)("div",{className:"mb-3 text-center",children:[Object(j.jsx)("label",{htmlFor:"InputAdd2",className:"form-label",children:"Address 2"}),Object(j.jsx)("input",{ref:e.refAdd2,type:"text",className:"form-control",id:"InputAdd2","aria-describedby":"add2"})]}),Object(j.jsxs)("div",{className:"mb-3 text-center",children:[Object(j.jsx)("label",{htmlFor:"InputCity",className:"form-label",children:"City"}),Object(j.jsx)("input",{ref:e.refCity,type:"text",className:"form-control",id:"InputCity","aria-describedby":"city"})]}),Object(j.jsxs)("div",{className:"mb-3 text-center",children:[Object(j.jsx)("label",{htmlFor:"InputState",className:"form-label",children:"State"}),Object(j.jsx)("input",{ref:e.refState,type:"text",className:"form-control",id:"InputState","aria-describedby":"state"})]}),Object(j.jsxs)("div",{className:"mb-3 text-center",children:[Object(j.jsx)("label",{htmlFor:"InputZip",className:"form-label",children:"Zip"}),Object(j.jsx)("input",{ref:e.refZip,type:"text",className:"form-control",id:"InputZip","aria-describedby":"zip"})]})]})]}),Object(j.jsx)(m,{children:Object(j.jsx)(u,{children:Object(j.jsx)("div",{className:"text-center text-center my-3",children:Object(j.jsx)("button",{onClick:e.handleNewClientSubmit,type:"submit",className:"btn btn-warning",children:"Create"})})})})]})]})};var De=function(e){return console.log(e.name),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h4",{className:"text-center my-3",children:"New Team Form"}),Object(j.jsx)("form",{id:"team",onClick:e.handleCreateClick,children:Object(j.jsx)(m,{children:Object(j.jsxs)(u,{className:"col-lg-6 mx-auto",children:[Object(j.jsxs)("div",{className:" text-center",children:[Object(j.jsx)("label",{htmlFor:"test",className:"form-label",children:"Team Name"}),Object(j.jsx)("input",{ref:e.refTeamName,type:"text",className:"form-control",id:"test","aria-describedby":"teamName"})]}),Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("button",{onClick:e.handleNewTeamSubmit,type:"submit",className:"btn btn-warning my-3",children:"Create"})})]})})})]})};var Ee=function(e){return console.log(e.teams),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h4",{className:"text-center my-3",children:"New Employee Form"}),Object(j.jsx)("form",{id:"team",onClick:e.handleCreateClick,children:Object(j.jsx)(m,{children:Object(j.jsxs)(u,{className:"col-lg-6 mx-auto",children:[Object(j.jsxs)("div",{className:"mb-3 text-center",children:[Object(j.jsx)("label",{htmlFor:"SelectTeam",className:"form-label",children:"Select Team"}),Object(j.jsx)("select",{ref:e.refTeamSelected,name:"selectList",id:"selectList",className:"form-select",children:e.teams.map((function(e){return Object(j.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(j.jsxs)("div",{className:"mb-3 text-center",children:[Object(j.jsx)("label",{htmlFor:"InputEmpFirstName",className:"form-label",children:"Is Manager"}),Object(j.jsxs)("select",{ref:e.refIsManager,name:"selectList",id:"selectList",className:"form-select",children:[Object(j.jsx)("option",{value:!1,children:"No"}),Object(j.jsx)("option",{value:!0,children:"Yes"})]})]}),Object(j.jsxs)("div",{className:"mb-3 text-center",children:[Object(j.jsx)("label",{htmlFor:"InputEmpFirstName",className:"form-label",children:"First Name"}),Object(j.jsx)("input",{ref:e.refEmpFirstName,type:"text",className:"form-control",id:"InputEmpFirstName","aria-describedby":"empFirstName"})]}),Object(j.jsxs)("div",{className:"mb-3 text-center",children:[Object(j.jsx)("label",{htmlFor:"InputEmpLastName",className:"form-label",children:"Last Name"}),Object(j.jsx)("input",{ref:e.refEmpLastName,type:"text",className:"form-control",id:"InputEmpLastName","aria-describedby":"empLastName"})]}),Object(j.jsxs)("div",{className:"mb-3 text-center",children:[Object(j.jsx)("label",{htmlFor:"InputEmail",className:"form-label",children:"Email"}),Object(j.jsx)("input",{ref:e.refEmpEmail,type:"text",className:"form-control",id:"InputEmail","aria-describedby":"email"})]}),Object(j.jsxs)("div",{className:"mb-3 text-center",children:[Object(j.jsx)("label",{htmlFor:"InputPhone",className:"form-label",children:"Phone"}),Object(j.jsx)("input",{ref:e.refEmpPhone,type:"text",className:"form-control",id:"InputPhone","aria-describedby":"email"})]}),Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("button",{onClick:e.handleNewEmpSubmit,type:"submit",className:"btn btn-warning my-3",children:"Create"})})]})})})]})},Pe=a(41);a(101);var Le=function(){var e=Object(c.useState)({org:{}}),t=Object(l.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)({}),i=Object(l.a)(s,2),o=i[0],b=i[1],h=Object(c.useState)({}),x=Object(l.a)(h,2),p=x[0],O=x[1];Object(c.useEffect)((function(){W().then((function(e){r(e.data)})).catch((function(e){return console.log(e)})),T(),A("info",{})}),[]);var f=Object(c.useState)(!1),v=Object(l.a)(f,2),g=v[0],N=v[1],w=Object(c.useState)(!1),C=Object(l.a)(w,2),k=C[0],F=C[1],I=Object(c.useState)(!1),S=Object(l.a)(I,2),_=S[0],R=S[1];function T(){H().then((function(e){console.log("=============="),console.log(e.data),O(e.data)})).catch((function(e){console.log(e)}))}function A(e,t){"error"===e?("unique violation"===t.type&&t.message.includes("email")?t.message="Email already in use!":"unique violation"===t.type&&t.message.includes("phone")?t.message="Phone number already in use!":"unique violation"===t.type&&t.message.includes("name")&&(t.message="Firm name already in use!"),b({visible:!0,message:t.message,color:"danger"})):"info"===e&&b({visible:!0,message:t.message,color:"success"})}var D=Object(c.useState)({client:!1,team:!1,emp:!1}),E=Object(l.a)(D,2),P=E[0],M=E[1],B=function(e){e.preventDefault(),"client"===e.target.id?(N((function(e){return!e})),F(!1),R(!1)):"team"===e.target.id?(F((function(e){return!e})),N(!1),R(!1)):"emp"===e.target.id&&(R((function(e){return!e})),N(!1),F(!1));var t=Object(d.a)({},P);t[e.target.id]?t=Pe.a.mapObject(Object(d.a)({},P),(function(){return!1})):(t=Pe.a.mapObject(Object(d.a)({},P),(function(){return!1})))[e.target.id]=!0,A("info",{}),T(),M(t)},V=n.a.createRef(),G=n.a.createRef(),q=n.a.createRef(),Y=n.a.createRef(),J=n.a.createRef(),Z=n.a.createRef(),Q=n.a.createRef(),K=n.a.createRef(),X=n.a.createRef(),$=n.a.createRef(),te=n.a.createRef(),ae=n.a.createRef(),ce=n.a.createRef(),ne=n.a.createRef(),re=n.a.createRef(),se=n.a.createRef(),le=n.a.createRef();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(y,{className:"m-3 mt-3",children:Object(j.jsx)(m,{className:"mt-3",children:Object(j.jsxs)(u,{className:"col-lg-8 mx-auto divvy-bg-tile shadow p-0",children:[Object(j.jsx)(m,{className:"mb-3",children:Object(j.jsxs)(u,{className:"p-0",children:[Object(j.jsx)(ee,{children:a.org.name}),Object(j.jsx)("div",{class:"form-text text-center",children:"Select an option"})]})}),Object(j.jsxs)(m,{className:"mb-3 d-flex justify-content-center",children:[Object(j.jsx)(u,{className:"text-center col-lg-3",children:Object(j.jsx)("div",{children:Object(j.jsx)("button",{id:"client",onClick:B,className:g?"btn alert-warning btn text-center":"btn btn-light btn text-center",children:"New Client"})})}),Object(j.jsx)(u,{className:"text-center col-lg-3",children:Object(j.jsx)("div",{children:Object(j.jsx)("button",{id:"team",onClick:B,className:k?"btn alert-warning btn text-center":"btn btn-light btn text-center",children:"New Team"})})}),Object(j.jsx)(u,{className:"text-center col-lg-3",children:Object(j.jsx)("div",{children:Object(j.jsx)("button",{id:"emp",onClick:B,className:_?"btn alert-warning btn text-center":"btn btn-light btn text-center",children:"New Employee"})})})]}),Object(j.jsx)(m,{children:Object(j.jsxs)(u,{children:[P.client?Object(j.jsx)(Ae,{handleNewClientSubmit:function(e){e.preventDefault();var t={name:V.current.value,first_name:G.current.value,last_name:q.current.value,email:Y.current.value,phone_number:J.current.value,add1:Z.current.value,add2:Q.current.value,city:K.current.value,state:X.current.value,zip:$.current.value};V.current.value&&G.current.value&&q.current.value&&Y.current.value&&J.current.value&&Z.current.value&&K.current.value&&X.current.value&&$.current.value?z(t).then((function(e){console.log(e.data),A("info",{message:"New client successfully created!"})})).catch((function(e){console.log("========= HIT THE CATCH ============"),A("error",JSON.parse(e.response.request.response).errors[0]),console.log(e)})):(A("error",{message:"Please enter info into all fields..."}),console.log("Clicked"))},refFirm:V,refFirstName:G,refLastName:q,refEmail:Y,refPhone:J,refAdd1:Z,refAdd2:Q,refCity:K,refState:X,refZip:$}):null,P.team?Object(j.jsx)(De,{handleNewTeamSubmit:function(e){e.preventDefault(),console.log(e),te.current.value?U({name:te.current.value}).then((function(e){A("info",{message:"Team successfully created!"})})).catch((function(e){A("error",JSON.parse(e.response.request.response).errors[0])})):A("error",{message:"Please enter a Team Name."})},refTeamName:te}):null,P.emp?Object(j.jsx)(Ee,{handleNewEmpSubmit:function(e){e.preventDefault(),console.log(se.current.value);var t={first_name:ae.current.value,last_name:ce.current.value,phone_number:ne.current.value,email:re.current.value,team_id:se.current.value,role:"Employee",is_manager:le.current.value};ae.current.value&&ce.current.value&&re.current.value&&ne.current.value?L(t).then((function(e){A("info",{message:"Employee successfully created!"})})).catch((function(e){A("error",JSON.parse(e.response.request.response).errors[0])})):A("error",{message:"Please fill out all fields."})},refEmpFirstName:ae,refEmpLastName:ce,refEmpEmail:re,refEmpPhone:ne,teams:p,refTeamSelected:se,refIsManager:le}):null,o.visible?Object(j.jsx)("div",{className:"mb-2 text-center text-".concat(o.color),children:o.message}):Object(j.jsx)("div",{className:"mb-2 text-center"})]})})]})})})})};var Me=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("h1",{children:"Team Page"})})};var ze=function(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)({loggedIn:!1}),s=Object(l.a)(r,2),d=s[0],m=s[1];Object(c.useEffect)((function(){B().then((function(e){console.log("front-end",e.data),e.data&&m({loggedIn:e.data})})).catch((function(e){console.log("check login error",e)}))}),[!1]);var u=d.loggedIn;return Object(c.useEffect)((function(){E().then((function(e){console.log("APP.js CURRENT USER",e.data),n(e.data)}))}),[]),Object(j.jsx)(i.a,{children:Object(j.jsx)("div",{"data-component":"DivInRouter",className:"my-0",children:Object(j.jsx)(O,{"data-component":"Wrapper",handleLogout:function(){console.log("App.js (handleLogout: "),G().then((function(e){console.log("logout API: ",e.data),m({loggedIn:!1})})).catch((function(e){console.log("check login error",e)}))},currentUser:a,loggedInStatus:d,children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{exact:!0,path:"/",component:ne}),Object(j.jsx)(o.a,{exact:!0,path:"/login",component:Q}),Object(j.jsx)(o.a,{exact:!0,path:"/signup",component:ae}),u?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(o.a,{exact:!0,path:"/dashboard",component:Te}),Object(j.jsx)(o.a,{exact:!0,path:"/org",component:Le}),Object(j.jsx)(o.a,{exact:!0,path:"/team",component:Me}),Object(j.jsx)(o.a,{exact:!0,path:"/profile",component:de})]}):Object(j.jsx)(o.a,{path:"",component:ne})]})})})})};a(102),a(103);s.a.render(Object(j.jsx)(ze,{}),document.getElementById("root"))},22:function(e,t,a){},66:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[125,1,2]]]);
//# sourceMappingURL=main.297a06b2.chunk.js.map